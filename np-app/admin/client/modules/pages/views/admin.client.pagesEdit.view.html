<div class="page-gutter-right ng-cloak"
     ng-controller="AdminUpdatePageController as page">

    <h1>Edit Page
        <a class="admin-view-page"
           href="{{ page.frontEndURL + page.page.slug }}"
           target="_blank"
           ng-model="page.page.slug"
           create-slug="page.page.title">{{ page.frontEndURL + page.page.slug }}
        </a>
    </h1>

    <form name="updatePageForm" ng-submit="page.updatePage()" novalidate>
        <div>
            <label for="title">Page Title</label>
            <input type="text"
                   ng-model="page.page.title"
                   id="title"
                   name="title"
                   required />

            <div ng-show="updatePageForm.$submitted">
                <div class="error" ng-show="updatePageForm.title.$error.required">
                    {{ page.errors.title.invalid }}
                </div>

                <div class="error" ng-show="page.errorTitle">
                    {{ page.errors.title.unique }}
                </div>
            </div>
        </div>

        <div>
            <label for="slug">Slug</label>
            <input type="text"
                   ng-model="page.page.slug"
                   id="slug"
                   create-slug="page.page.title"
                   readonly="readonly" />
        </div>

        <div class="site-page-category">
            <label for="category">Category</label>
            <select ng-model="page.page.category"
                    id="category"
                    ng-options="category.title as category.title for category in page.categories">
                <option value="">Uncategorized</option>
            </select>
        </div>

        <div>
            <label for="body">Content Body</label>
            <textarea ng-model="page.page.body"
                      name="html-editor"
                      class="html-editor"
                      id="body">
            </textarea>
        </div>

        <div class="input-field">
            <button type="submit"
                    class="waves-effect waves-light btn blue">Update
            </button>
        </div>
    </form>
</div>
